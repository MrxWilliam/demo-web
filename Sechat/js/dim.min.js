/**
 *  DIM-Client (v0.1.0)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Mar. 17, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}(';!7(a){2 1C=a.D.1C;2 N=7(1M){2 20=f;9(!1M){1M=N.2u}q{9(1N 1M==="17"){9(1M!==N.3m&&1M!==N.2u){20=1M;1M=N.3m}}}1C.X(4,1M);9(20){4.5D(20)}};a.2v(N,1C,f);N.3m="79";N.2u="F";N.c.5D=7(20){4.2w("20",20)};N.c.5E=7(){5 4.2b("F")};N.c.5F=7(){5 4.2b("3n")};1C.2x(N.3m,N);1C.2x(N.2u,N);a.D.N=N}(V);!7(a){2 4F=a.D.4F;2 3L=a.D.3L;2 3M=a.D.3M;2 3N=a.D.3N;2 3O=a.D.3O;2 3P=a.D.3P;2 3Q=a.D.3Q;2 4G=a.D.4G;2 4H=a.1O.4H;2 O=a.1n.O;2 2y=a.1O.2y;2 21=2y.c.21;2y.c.21=7(v,18,Z){2 p;9(v x 3M){9(v x 3N){p="5G 2R"}q{9(v x 3O){p="5H 2c 2R"}q{9(v x 3P){p="5I 2R"}q{p="4I 2R"}}}}q{9(v x 3L){p="7a 2c 2R"}q{9(v x 3Q){p="7b 7c 2R"}q{5 21.X(4,v,18,Z)}}}2 C=O.k();C.1I(C.4J,4,Z);2 h=v.3R();9(h){5 f}2 3S=W 4G(v.7d);3S.7e(p);3S.7f(Z.3T);5 3S};4H.2x(4F.7g,2y);a.1O.2y=2y;2 2S=a.D.2S;2 2z=a.D.h.2z;2 4K=a.D.h.4K;2 4L=a.D.h.4L;2 2T=a.D.h.2T;2 4M=a.D.h.4M;2 1J=7(){5 a.m.k()};2 1D=7(17){5 1J().1D(17)};2 4N={7h:7(v){9(v x 3M){9(v x 3N){5"[5G:"+v.3U()+"]"}9(v x 3O){5"[5H:"+v.3U()+"]"}9(v x 3P){5"[5I:"+v.3U()+"]"}5"[4I:"+v.3U()+"]"}9(v x 3L){5 v.7i()}9(v x 3Q){5"[4I:"+v.7j()+"]"}2 1o=v.1o.4O();5"5J 5K 5L\'t 5M 4 2c 1o: "+1o},7k:7(e,19){9(e x 2S){5 4.5N(e,19)}5"5J 5K 5L\'t 5M 4 4P: "+e.5O()},5N:7(e,19){2 p=e.2b("p");9(p){5 p}9(e x 2z){5 4.5P(e,19)}9(e x 4K){5 4.5Q(e,19)}9(e x 4L){5 4.5R(e,19)}9(e x 2T){5 4.5S(e,19)}9(e x 4M){5 4.5T(e,19)}1c 1k("7l h 4P: "+e)},5P:7(e,19){2 1P=e.2b("4Q");9(!1P||1P.E===0){5 f}2 1g=[];Q(2 i=0;i<1P.E;++i){1g.1d(1D(1P[i]))}2 p=1D(19)+" 3V 7m R: "+1g.3W(", ");e.2w("p",p);5 p},5Q:7(e,19){2 1Q=e.2b("3X");9(!1Q||1Q.E===0){5 f}2 1g=[];Q(2 i=0;i<1Q.E;++i){1g.1d(1D(1Q[i]))}2 p=1D(19)+" 3V 3X R: "+1g.3W(", ");e.2w("p",p);5 p},5R:7(e,19){2 p=1D(19)+" 3V 7n h 7o.";e.2w("p",p);5 p},5S:7(e,19){2 p=1D(19)+" 3V 7p R";2 i,1g;2 1Q=e.2b("3X");9(1Q&&1Q.E>0){1g=[];Q(i=0;i<1Q.E;++i){1g.1d(1D(1Q[i]))}p+=", 3X: "+1g.3W(", ")}2 1P=e.2b("4Q");9(1P&&1P.E>0){1g=[];Q(i=0;i<1P.E;++i){1g.1d(1D(1P[i]))}p+=", 4Q: "+1g.3W(", ")}e.2w("p",p);5 p},5T:7(e,19){2 p=1D(19)+" 7q 7r h 1M, 7s...";e.2w("p",p);5 p}};a.1O.4N=4N}(V);!7(a){2 1C=a.D.1C;2 1R=a.D.1R;2 1h=a.1O.1h;2 2U=7(1s){1h.X(4,1s)};a.2v(2U,1h,f);2 3Y=7(){2 Y=4.7t("5U");2 o=4.1s.o;o.5V(Y,T);5 f};2 3Z=7(Y){4.7u("5U",Y);5 W 1R.3Z(Y)};2U.c.21=7(e,18,Z){2 2c=e.7v();9(2c==="5W!"||2c==="7w!"){5 3Y.X(4)}q{9(2c==="5W?"){5 3Z.X(4,e.7x())}q{1c 1k("2V 4P 13: "+e)}}};1h.2x(1C.7y,2U);a.1O.2U=2U}(V);!7(a){2 1C=a.D.1C;2 1h=a.1O.1h;2 2W=7(1s){1h.X(4,1s)};a.2v(2W,1h,f);2W.c.21=7(e,18,Z){5 f};1h.2x(1C.7z,2W);a.1O.2W=2W}(V);!7(a){2 22=a.22;2 N=a.D.N;2 1h=a.1O.1h;2 m=a.m;2 O=a.1n.O;2 2A=7(1s){1h.X(4,1s)};a.2v(2A,1h,f);2 40=7(17){2 l=m.k();2 b=l.P(17);9(!b){5 17}2 2d=l.4R(b);2 2e=l.4S(b);5 b+" ("+2e+\') "\'+2d+\'"\'};2A.c.21=7(e,18,Z){2 F=e.5E();2 2B=e.5O()===N.2u;2 2X=F?F.E:0;2 p;9(2X===0){9(2B){p="7A d 2B 1E."}q{p="1F 2C 4T."}}q{9(2X===1){9(2B){p="7B d 2B 1E,\\n"+40(F[0])}q{p="5X 7C d,\\n"+40(F[0])}}q{9(2B){p=2X+" F 2B 1E,"}q{p="5X "+2X+" F,"}Q(2 i=0;i<2X;++i){p+="\\n"+40(F[i])}}}2 3n=e.5F();9(3n){2 l=m.k();2 2D,u;2 1i=2E.1i(3n);Q(2 j=0;j<1i.E;++j){2D=1i[j];u=3n[2D];2D=l.P(2D);9(!2D){5Y}u=22.k(u);9(!u){5Y}l.2Y(u,2D)}}e.2w("p",p);2 C=O.k();C.1I(C.4J,4,Z);5 f};1h.2x(N.3m,2A);1h.2x(N.2u,2A);a.1O.2A=2A}(V);!7(a){2 4U=a.3o.4U;2 2Z=a.3o.2Z;2 1S=a.D.1S;2 4V=a.D.4V;2 22=a.22;2 30=a.30;2 2F=a.D.2F;2 2f=a.D.2f;2 m=a.m;2 H=a.H;2 1T=7(1o){9(1o){4.12=1o}q{4.12=1S.3p}4.31=f};1T.c.7D=7(y,4W){2 K=4.5Z();2 u=4.4X("7E-7F");2 b=4.41(u,1S.3p);2 w=4.4Y(b,{y:y,4W:4W});2 l=m.k();l.2Y(u,b);l.42(K,b);l.3q(w);5 l.60(b)};1T.c.7G=7(y,61){2 l=m.k();4.31=l.62(61);2 u=4.4X("h");2 b=4.41(u,1S.7H);2 w=4.4Y(b,{y:y});l.2Y(u,b);l.3q(w);5 l.3R(b)};1T.c.5Z=7(3r){9(!3r){3r=4U.7I}4.31=2Z.43(3r);5 4.31};1T.c.4X=7(44){9(!44){44="7J"}5 22.43(4V.7K,4.31,44)};1T.c.41=7(u,1o){9(!1o){1o=4.12}5 u.41(1o)};1T.c.4Y=7(b,45){2 w=30.k({"1t":b});9(45){2 1i=2E.1i(45);2 y,33;Q(2 i=0;i<1i.E;++i){y=1i[i];33=45[y];9(y&&33){w.7L(y,33)}}}w.63(4.31);5 w};1T.c.7M=7(b,u,w){2 e;9(w){e=2f.2G(b,w,u)}q{9(u){e=2F.2G(b,u)}}5 H.k().2g(e)};9(1N a.2H!=="2h"){a.2H={}}a.2H.1T=1T}(V);!7(a){2 4Z=a.1o.4Z;2 2I=a.46.2I;2 34=a.2i.34;2 2j=a.3o.2j;2 2J={47:32,64:16,43:7(17){2 z=a.1o.65.7N(17).66("67-8");2 2i=34.2i(z);2 48=2J.47-z.E;9(48>0){2 49=W 4Z(2J.47);49.1d(2i.68(0,48));49.1d(z);z=49.66(G)}q{9(48<0){z=2i}}2 69=2J.47-2J.64;2 50=2i.68(69);2 K={"3r":2j.6a,"z":2I.3s(z),"50":2I.3s(50)};5 2j.k(K)}};9(1N a.2H!=="2h"){a.2H={}}a.2H.2J=2J}(V);!7(a){2 4a=a.1e.4a;2 1l=7(y){4a.X(4);4.y=y};a.2v(1l,4a,f);1l.c.S=7(A){9(A x 1l){5 4.y===A.y}q{9(1N A==="17"){5 4.y===A}q{1c 1k("A 13: "+A)}}};1l.c.51=7(){5"<1l:"+4.y+">"};1l.c.4O=7(){5"<1l:"+4.y.4O()+">"};1l.c.6b=7(B){L.23(B!==f,"B 2k");L.11("6b: "+4.y+" A")};1l.c.7O=7(B){L.23(B!==f,"B 2k")};9(1N a.12!=="2h"){a.12={}}a.12.1l=1l}(V);!7(a){2 52=a.1e.52;2 1U=a.1e.1U;2 1l=a.12.1l;2 1u=a.1n.1u;2 2l="7P";2 35="7Q";2 36="6c";2 2m="7R";2 2n="7S";2 2o="13";2 37="7T";2 1V=7(6d,53){2 54=W 52(6d);54.53=53;5 54};2 2p=7(y,7U){2 A=W 1l(y);Q(2 i=1;i<6e.E;++i){A.7V(6e[i])}5 A};2 6f=7(){5 2p(2l,1V(35,7(B){2 o=B.o;9(o&&o.1K()){2 1p=o.1W();5 1p.S(1u.7W)||1p.S(1u.38)}q{5 G}}))};2 6g=7(){5 2p(35,1V(36,7(B){2 o=B.o;2 1p=o.1W();5 1p.S(1u.38)}),1V(2o,7(B){2 o=B.o;2 1p=o.1W();5 1p.S(1u.1k)}))};2 6h=7(){5 2p(36,1V(2m,7(B){2 o=B.o;5 o.1K()}))};2 6i=7(){5 2p(2m,1V(2n,7(B){2 o=B.o;5 o.Y}),1V(2o,7(B){2 o=B.o;2 1p=o.1W();5!1p.S(1u.38)}))};2 6j=7(){5 2p(2n,1V(2o,7(B){2 o=B.o;2 1p=o.1W();5!1p.S(1u.38)}),1V(2l,7(B){2 o=B.o;5!o.Y}))};2 6k=7(){5 2p(2o,1V(2l,7(B){2 o=B.o;2 1p=o.1W();5!1p.S(1u.1k)}))};2 6l=7(){5 2p(37)};2 I=7(3t){9(!3t){3t=I.2l}1U.X(4,3t);4.24(6f());4.24(6g());4.24(6h());4.24(6i());4.24(6j());4.24(6k());4.24(6l());4.o=f};a.2v(I,1U,f);I.c.24=7(A){1U.c.24.X(4,A,A.y)};2 55=7(B){9(B.39){6m(B.39)}B.39=7X(7(){B.4b()},7Y)};2 4c=7(B){9(B.39){6m(B.39);B.39=f}};2 6n=7(B){9(!B.56){5 G}5 B.56.y===I.37};I.c.4b=7(){9(6n(4)){4c(4);5}1U.c.4b.X(4)};I.c.4d=7(){1U.c.4d.X(4);55(4)};I.c.3u=7(){4c(4);1U.c.3u.X(4)};I.c.3v=7(){4c(4);1U.c.3v.X(4)};I.c.3w=7(){1U.c.3w.X(4);55(4)};I.2l=2l;I.35=35;I.36=36;I.2m=2m;I.2n=2n;I.2o=2o;I.37=37;9(1N a.12!=="2h"){a.12={}}a.12.I=I}(V);!7(a){2 3a=7(){};a.7Z(3a,f);3a.c.6o=7(z,o){L.23(z!==f,"z 2k");L.23(o!==f,"o 2k");L.23(G,"6p 4e!")};3a.c.6q=7(13,z,o){L.23(13!==f,"13 2k");L.23(z!==f,"z 2k");L.23(o!==f,"o 2k");L.23(G,"6p 4e!")};9(1N a.12!=="2h"){a.12={}}a.12.3a=3a}(V);!7(a){2 2I=a.46.2I;2 34=a.2i.34;2 2q=7(z,2K){4.z=z;4.2K=2K};2q.6r=7(z){2 6s=34.2i(z);5 2I.3s(6s)};9(1N a.12!=="2h"){a.12={}}a.12.2q=2q}(V);!7(a){2 57=a.57;2 25=a.25;2 1R=a.D.1R;2 58=a.D.58;2 3b=a.3b;2 59=a.59;2 5a=a.1e.5a;2 I=a.12.I;2 O=a.1n.O;2 1u=a.1n.1u;2 5b=a.1n.5b;2 5c=a.1n.2H.5c;2 2q=a.12.2q;2 U=7(b,1a,14){3b.X(4,b,1a,14);2 1e=W I();1e.o=4;1e.3c=4;1e.4d();4.1e=1e;4.1v=f;4.5d=f;4.1s=f;4.Y=f;4.4f=f;4.3x=[];4.6t={}};a.2v(U,3b,[59,5b,5a]);U.c.1K=7(){5 4.4f};U.c.3y=7(d){9(d.S(4.4f)){5}4.4f=d;4.Y=f};U.c.3z=7(){5 4.1e.56};U.c.1W=7(){5 4.1v.1W()};U.c.3A=7(z,3c){9(!3c){3c=4}2 6u=W a.1o.65(z,"67-8");4.1v.3A(6u.51(),3c)};U.c.2V=7(Y){2 A=4.3z();9(!A.S(I.2m)){L.11("o A 13: "+A);5}9(!4.1W().S(1u.38)){L.11("o A 13: "+A);5}2 d=4.1K();2 e=1R.3Z(Y);2 3B=57.80(d.b,4.b,0);2 1j=25.81(e,3B);2 4g=4.1s.3C(1j);2 4h=4.1s.82(4g);9(!4h){1c 1k("3D 3d 5e 83 63 2c: "+1j)}9(e.84().S(58.85)){4h.86(d.3E())}2 z=4.1s.87(4h);4.3A(z)};U.c.5V=7(Y,3Y){2 A=4.3z();9(!A.S(I.2m)){L.11("o A 13: "+A)}9(3Y){L.11("2V 88 Q d: "+4.1K());4.Y=Y;2 C=O.k();C.1I(C.6v,4,{Y:Y})}q{L.11("2V 89 8a Y: "+Y)}};U.c.4i=7(1a,14){9(!14){14=8b}4.1e.8c(4.1e.3t);9(4.1W().S(1u.38)&&1a===4.1a&&14===4.14){L.11("6w 6c 3d "+1a+":"+14);5}2 C=O.k();C.1I(C.5f,4,{"1a":1a,"14":14});4.1v.4i(1a,14);4.1a=1a;4.14=14};U.c.4d=7(1G){4.1s.3c=4;9(1G){9(1G["1a"]){4.1a=1G["1a"]}q{1G["1a"]=4.1a}9(1G["14"]){4.14=1G["14"]}q{1G["14"]=4.14}}q{1G={"1a":4.1a,"14":4.14}}2 C=O.k();C.1I(C.5f,4,1G);9(!4.1v){2 4j=W 5c(4);2 4k=4j.4k;4j.4k=7(){4k.X(4);2 C=O.k();C.1I(C.6x,4,1G)};4.1v=4j}4.1v.8d(1G)};U.c.3u=7(){4.1v.8e();4.1e.3u()};U.c.3v=7(){4.1v.3v();4.1e.3v()};U.c.3w=7(){4.1v.3w();4.1e.3w()};U.c.8f=7(z,1v){9(!z||z.E===0){5}2 2G=4.1s.8g(z);9(2G){4.3A(2G)}};U.c.8h=7(1p,1v){4.1e.4b()};U.c.8i=7(z,13,1v){9(13){4.5d.6q(13,z,4)}q{4.5d.6o(z,4)}};U.c.6y=7(z,2K){2 2r=W 2q(z,2K);2 A=4.3z();9(!A.S(I.2n)){4.3x.1d(2r);5 T}4.3A(z);9(2K){2 K=2q.6r(z);4.6t[K]=2r}5 T};U.c.8j=7(z,Z){5 f};U.c.8k=7(8l,Z){5 f};2 6z=7(){2 A;2 2r;8m(4.3x.E>0){2r=4.3x.8n();A=4.3z();9(A.S(I.2n)){4.6y(2r.z,2r.2K)}q{L.11("6A 8o, 8p 8q(s) 8r");4.3x.6B(2r);8s}}};U.c.8t=7(A,B){9(A.S(I.2l)){}q{9(A.S(I.35)){}q{9(A.S(I.36)){}q{9(A.S(I.2m)){2 Y=4.Y;4.Y=f;4.2V(Y)}q{9(A.S(I.2n)){2 6C=4;8u(7(){6z.X(6C)},8v)}q{9(A.S(I.2o)){L.11("3b 6A 13!");2 C=O.k();C.1I(C.6D,4,f)}q{9(A.S(I.37)){L.11("3b 3u.")}}}}}}}};U.c.8w=7(A,B){};U.c.8x=7(A,B){};U.c.8y=7(A,B){};9(1N a.12!=="2h"){a.12={}}a.12.U=U}(V);!7(a){2 4l=a.1n.4l;2 J={2L:7(2M){2 y=2M.y;2 3F=4.2N[y];9(!3F){3F=W 2M();4.2N[y]=3F}5 3F},26:7(2M){2 y=2M.y;5 4l.6E(y)},1q:7(z,2M){2 y=2M.y;5 4l.6F(z,y)},2N:{}};9(1N a.r!=="2h"){a.r={}}a.r.J=J}(V);!7(a){2 22=a.22;2 m=a.m;2 O=a.1n.O;2 J=a.r.J;2 6G=7(M){5 J.1q(M,1w)};2 6H=7(){2 1X={};2 M=J.26(1w);9(M){2 l=m.k();2 b,u;2 g=2E.1i(M);Q(2 i=0;i<g.E;++i){b=g[i];u=M[b];b=l.P(b);u=22.k(u);9(b&&u){1X[b]=u}}}5 1X};2 1w=7(){4.1X=f};1w.c.4m=7(b){9(!4.1X){4.1X=6H()}5 4.1X[b]};1w.c.2Y=7(u,b){4.4m(b);9(4.1X[b]){L.11("u 6w 8z: "+b);5 T}4.1X[b]=u;L.11("3G u Q "+b);2 C=O.k();9(6G(4.1X)){C.1I(C.6I,4,{"1t":b,"u":u});5 T}q{2 p="3D 3d 1q u: "+b+" -> "+a.46.6J.3s(u);L.11(p);5 G}};1w.k=7(){5 J.2L(1w)};a.r.1w=1w}(V);!7(a){2 2Z=a.3o.2Z;2 m=a.m;2 J=a.r.J;2 6K=7(M){5 J.1q(M,1x)};2 6L=7(){2 1i={};2 M=J.26(1x);9(M){2 l=m.k();2 b,K;2 g=2E.1i(M);Q(2 i=0;i<g.E;++i){b=g[i];K=M[b];b=l.P(b);K=2Z.k(K);9(b&&K){1i[b]=K}}}5 1i};2 1x=7(){4.3e=f};1x.c.4n=7(b){9(!4.3e){4.3e=6L()}5 4.3e[b]};1x.c.42=7(K,b){4.4n(b);4.3e[b]=K;L.11("3G 8A K Q "+b);5 6K(4.3e)};1x.k=7(){5 J.2L(1x)};a.r.1x=1x}(V);!7(a){2 30=a.30;2 m=a.m;2 O=a.1n.O;2 J=a.r.J;2 6M=7(M){5 J.1q(M,1y)};2 6N=7(){2 27={};2 M=J.26(1y);9(M){2 l=m.k();2 d,w;2 g=2E.1i(M);Q(2 i=0;i<g.E;++i){d=g[i];w=M[d];d=l.P(d);w=30.k(w);9(d&&w){27[d]=w}}}5 27};2 1y=7(){4.27=f};1y.c.4o=7(b){9(!4.27){4.27=6N()}5 4.27[b]};1y.c.3q=7(w,b){4.4o(b);4.27[b]=w;L.11("3G w Q "+b);2 C=O.k();9(6M(4.27)){C.1I(C.6O,4,w);5 T}q{2 p="3D 3d 1q w: "+w.P()+" -> "+w.2b("z");L.11(p);5 G}};1y.k=7(){5 J.2L(1y)};a.r.1y=1y}(V);!7(a){2 m=a.m;2 J=a.r.J;2 4p=7(g){5 J.1q(g,1b)};2 6P=7(){2 F=[];2 g=J.26(1b);9(g){2 l=m.k();2 1r;Q(2 i=0;i<g.E;++i){1r=l.P(g[i]);9(!1r){1c 1k("1t 13: "+g[i])}F.1d(1r)}}5 F};2 1b=7(){4.F=f};1b.c.3f=7(){9(!4.F){4.F=6P()}5 4.F};1b.c.5g=7(d){2 g=4.3f();9(g.2s(d)>=0){5 T}g.1d(d);5 4p(g)};1b.c.5h=7(d){2 g=4.3f();2 1m=g.2s(d);9(1m<0){5 T}g.4q(1m,1);5 4p(g)};1b.c.1K=7(){2 g=4.3f();9(g&&g.E>0){5 g[0]}q{5 f}};1b.c.3y=7(d){2 g=4.3f();2 1m=g.2s(d);9(1m===0){5 T}q{9(1m>0){g.4q(1m,1)}}g.6B(d);5 4p(g)};1b.k=7(){5 J.2L(1b)};a.r.1b=1b}(V);!7(a){2 m=a.m;2 O=a.1n.O;2 J=a.r.J;2 6Q=7(M){5 J.1q(M,1z)};2 6R=7(){2 F={};2 M=J.26(1z);9(M){2 l=m.k();2 4r=2E.1i(M);Q(2 i=0;i<4r.E;++i){2 d=4r[i];2 4s=M[d];d=l.P(d);9(!d){1c 4t("d 1t 13: "+4r[i])}2 15=[];Q(2 j=0;j<4s.E;++j){2 1r=4s[j];1r=l.P(1r);9(!1r){1c 4t("1A 1t 13: "+4s[j])}15.1d(1r)}F[d]=15}}5 F};2 1z=7(){4.F=f};1z.c.3g=7(d){9(!4.F){4.F=6R()}5 4.F[d]};1z.c.3H=7(15,d){4.3g(d);4.F[d]=15;L.11("3G 15 Q d: "+d);2 C=O.k();9(6Q(4.F)){C.1I("8B",4,{"d":d,"15":15});5 T}q{2 p="3D 3d 1q 15: "+d+" -> "+15;L.11(p);5 G}};1z.k=7(){5 J.2L(1z)};a.r.1z=1z}(V);!7(a){2 m=a.m;2 O=a.1n.O;2 J=a.r.J;2 6S=7(M){5 J.1q(M,1B)};2 6T=7(){2 28={};2 M=J.26(1B);9(M){2 l=m.k();2 4u=2E.1i(M);Q(2 i=0;i<4u.E;++i){2 h=4u[i];2 4v=M[h];h=l.P(h);9(!h){1c 4t("h 1t 13: "+4u[i])}2 R=[];Q(2 j=0;j<4v.E;++j){2 1r=4v[j];1r=l.P(1r);9(!1r){1c 4t("1f 1t 13: "+4v[j])}R.1d(1r)}28[h]=R}}5 28};2 1B=7(){4.28=f};1B.c.3h=7(h){9(!4.28){4.28=6T()}5 4.28[h]};1B.c.3I=7(R,h){4.3h(h);4.28[h]=R;L.11("3G R Q h: "+h);2 C=O.k();9(6S(4.28)){C.1I("8C",4,{"h":h,"R":R});5 T}q{2 p="3D 3d 1q R: "+h+" -> "+R;L.11(p);5 G}};1B.k=7(){5 J.2L(1B)};a.r.1B=1B}(V);!7(a){2 5i=a.1n.8D;2 25=a.25;2 26=7(y){5 5i.6E(y)};2 1q=7(y,33){5 5i.6F(33,y)};2 2O=7(){4.2N={}};2 4w=7(b){5 b.5j};2 5k=7(b){5"8E-"+b.5j};2O.c.8F=7(1Y,2P){4.2N[4w(2P)]=1Y;5 1q(5k(2P),1Y)};2O.c.8G=7(2P){2 1Y=4.2N[4w(2P)];9(1Y){5 1Y}1Y=[];2 g=26(5k(2P));9(g){2 Z;Q(2 i=0;i<g.E;++i){Z=25.k(g[i]);9(!Z){1c 1k("8H 13: "+g[i])}1Y.1d(Z)}}4.2N[4w(2P)]=1Y;5 1Y};2 4x=f;2O.k=7(){9(!4x){4x=W 2O()}5 4x};a.r.2O=2O}(V);!7(a){2 O=a.1n.O;2 C=O.k();C.5f=\'8I\';C.6x=\'8J\';C.6D=\'8K\';C.6v=\'8L\';C.6I=\'8M\';C.6O=\'8N\';C.4J=\'8O\'}(V);!7(a){2 1L=a.1L;2 4y=f;1L.k=7(){9(!4y){4y=W 1L()}5 4y};1L.c.8P=7(M){5 T};1L.c.8Q=7(){5 f};a.1L=1L}(V);!7(a){2 1H=a.1H;2 4z=f;1H.k=7(){9(!4z){4z=W 1H()}5 4z};2 P=1H.c.P;1H.c.P=7(y){2 b=P.X(4,y);9(b){5 b}5 f};1H.c.1q=7(y,b){9(!4.8R(y,b)){5 G}5 T};a.1H=1H}(V);!7(a){2 1S=a.D.1S;2 1F=a.1F;2 4A=a.4A;2 1H=a.1H;2 5l=a.5l;2 1x=a.r.1x;2 1w=a.r.1w;2 1y=a.r.1y;2 1b=a.r.1b;2 1z=a.r.1z;2 1B=a.r.1B;2 m=a.m;2 H=a.H;2 2Q=f;m.k=7(){9(!2Q){2Q=W m();2Q.8S=1H.k();2Q.4B=W 5l();2Q.F=f}5 2Q};m.c.8T=7(){9(!4.F){2 r=1b.k();2 g=r.3f();2 F=[];Q(2 i=0;i<g.E;++i){F.1d(4.60(g[i]))}4.F=F}5 4.F};m.c.3y=7(d){4.F=f;9(d x 1F){d=d.b}2 r=1b.k();5 r.3y(d)};m.c.5g=7(d){4.F=f;9(d x 1F){d=d.b}2 r=1b.k();5 r.5g(d)};m.c.5h=7(d){4.F=f;9(d x 1F){d=d.b}2 r=1b.k();5 r.5h(d)};m.c.1D=7(b){b=4.P(b);2 2t=b.y;2 2d=4.4R(b);2 2e=4.4S(b);9(2d!=f&&2d.E>0){9(b.6U()){9(2t!=f&&2t.E>0){5 2d+" ("+2t+")"}q{5 2d+" ("+2e+")"}}5 2d}q{9(2t!=f&&2t.E>0){9(b.6U()){5 2t+" ("+2e+")"}5 2t}}5 b.5j.51()+" ("+2e+")"};m.c.4R=7(b){2 w=4.6V(b);9(w){5 w.8U()}q{5 f}};m.c.4S=7(b){2 2e=b.8V();2 17="8W"+2e;17=17.4C(17.E-10);17=17.4C(0,3)+"-"+17.4C(3,6)+"-"+17.4C(6);5 17};m.c.42=7(K,b){9(!4.8X(K,b)){5 G}2 r=1x.k();5 r.42(K,b)};m.c.4n=7(b){2 r=1x.k();2 K=r.4n(b);9(!K&&1S.3p.S(b.5m())){K=4.4B.62(b)}5 K};m.c.2Y=7(u,b){9(!4.8Y(u,b)){L.11("u 2C 8Z 1t: "+b);5 G}2 r=1w.k();5 r.2Y(u,b)};m.c.4m=7(b){9(b.5n()){5 f}2 r=1w.k();2 u=r.4m(b);9(u){5 u}9(1S.3p.S(b.5m())){u=4.4B.3E(b);9(u){5 u}}H.k().6W(b);5 u};m.c.3q=7(w,b){9(!b){b=w.P();b=4.P(b);9(!b){1c 1k("w 1t 13: "+b)}}9(!4.90(w,b)){5 G}2 r=1y.k();5 r.3q(w,b)};m.c.4o=7(b){2 r=1y.k();2 w=r.4o(b);9(w){2 1g=w.91();9(1g&&1g.E>0){5 w}}9(1S.3p.S(b.5m())){2 5o=4.4B.6V(b);9(5o){5 5o}}H.k().6X(b);5 w};m.c.92=7(1A,d){9(1A x 1F){1A=1A.b}2 g=4.3g(d);9(g){9(g.2s(1A)>=0){5 G}g.1d(1A)}q{g=[1A]}5 4.3H(g,d)};m.c.93=7(1A,d){9(1A x 1F){1A=1A.b}2 1m=-1;2 g=4.3g(d);9(g){1m=g.2s(1A)}9(1m<0){5 G}g.4q(1m,1);5 4.3H(g,d)};m.c.3H=7(15,d){9(d x 1F){d=d.b}9(!4.94(15,d)){5 G}2 r=1z.k();5 r.3H(15,d)};m.c.3g=7(d){9(d x 1F){d=d.b}2 r=1z.k();2 g=r.3g(d);9(g){5 g}q{5[]}};m.c.95=7(1f,h){9(1f x 1F){1f=1f.b}2 g=4.3h(h);9(g){9(g.2s(1f)>=0){5 G}g.1d(1f)}q{g=[1f]}5 4.3I(g,h)};m.c.96=7(1f,h){9(1f x 1F){1f=1f.b}2 1m=-1;2 g=4.3h(h);9(g){1m=g.2s(1f)}9(1m<0){5 G}g=g.4q(1m,1);5 4.3I(g,h)};m.c.3I=7(R,h){9(h x 4A){h=h.b}9(!R||R.E<1){L.11("R 97 2C 98 2k: "+h);5 G}9(!4.99(R,h)){5 G}2 r=1B.k();5 r.3I(R,h)};m.c.3h=7(h){9(h x 4A){h=h.b}2 r=1B.k();2 g=r.3h(h);9(g){5 g}q{5[]}};a.m=m}(V);!7(a){2 2j=a.3o.2j;2 1t=a.1t;2 5p=a.D.5p;2 1R=a.D.1R;2 2F=a.D.2F;2 2f=a.D.2f;2 5q=a.D.5q;2 5r=a.D.5r;2 N=a.D.N;2 3i=a.D.3i;2 2S=a.D.2S;2 2z=a.D.h.2z;2 2T=a.D.h.2T;2 25=a.25;2 5s=a.5s;2 m=a.m;2 1L=a.1L;2 H=a.H;2 1Z=f;H.k=7(){9(!1Z){1Z=W H();1Z.9a=m.k();1Z.5t=1L.k();1Z.o=f;1Z.5u={};1Z.5v={};1Z.5w={}}5 1Z};2 6Y=7(h){2 l=4.1J();2 R=l.9b(h);9(!R||R.E===0){5 T}2 3j=l.6Z(h);5!3j};2 70=7(v,18){2 l=4.1J();2 h=l.P(v.3R());9(!h||h.5n()){5 G}2 u=l.3E(h);9(!u){5 T}9(6Y.X(4,h)){9((v x 2z)||(v x 2T)){5 G}q{5 4.5x(h,18)}}q{9(l.9c(18,h)||l.9d(18,h)||l.9e(18,h)){5 G}q{2 3J=[];2 4D=l.9f(h);9(4D){Q(2 i=0;i<4D.E;++i){3J.1d(4D[i])}}2 3j=l.6Z(h);9(3j&&3J.2s(3j)<0){3J.1d(3j)}5 4.5x(h,3J)}}};2 3C=H.c.3C;H.c.3C=7(1j){2 4g=3C.X(4,1j);2 l=4.1J();2 3B=1j.3T;2 29=l.P(3B.29);9(29.9g()){2 71=4.5t;2 18=l.P(3B.18);2 K=71.72(18,29);K["5y"]=T}5 4g};2 4E=H.c.4E;H.c.4E=7(3k,29,1j){9(3k["5y"]){5 f}5 4E.X(4,3k,29,1j)};H.c.9h=7(1j){2 v=1j.v;9(v x 1R){5 T}9(v x 2F){5 T}9(v x 5q||v x 5r){5 T}9(v x N){5 T}9(v x 5p){5 T}9(v x 2z){2 l=4.1J();2 4e=l.P(1j.3T.29);2 h=l.P(v.3R());2 K=4.5t.72(4e,h);9(K){9i K["5y"]}}5 T};H.c.73=7(Z){9(Z x 25){}q{9(Z x 5s){}}};2 21=H.c.74;H.c.74=7(Z){2 v=Z.v;2 18=Z.3T.18;18=4.1J().P(18);9(70.X(4,v,18)){4.73(Z);5 f}2 1j=21.X(4,Z);9(!1j){5 f}9(1j.v x 1R){5 1j}4.9j(1j,f,G);5 f};H.c.2g=7(e){9(!4.o){1c 1k("o 2C 4i")}5 4.3K(e,4.o.b,f,G)};H.c.9k=7(v){v.9l(1t.9m);5 4.3K(v,1t.9n,f,G)};H.c.9o=7(w){2 d=4.o.1K();9(!d){1c 1k("5z 75")}2 15=d.9p();9(!15||15.E===0){5 G}2 l=m.k();2 b=w.P();b=l.P(b);2 u=l.3E(b);2 e=2f.2G(b,w,u);Q(2 i=0;i<15.E;++i){4.3K(e,15[i],f,G)}5 T};H.c.76=7(w,29){2 l=4.1J();2 b=w.P();b=l.P(b);2 u=l.3E(b);2 e=2f.2G(b,w,u);5 4.3K(e,29,f,G)};H.c.9q=7(w){9(!4.o){1c 1k("o 2C 4i")}5 4.76(w,4.o.b)};H.c.9r=7(15){2 l=4.1J();2 d=l.1K();9(!d){1c 1k("5z 75")}2 3k=2j.43(2j.6a);2 z=a.46.6J.3s(15);z=3k.5e(z);2 K=3k.9s();K=d.5e(K);2 e=W 3i(3i.77);e.78(d.b);e.9t(z);e.9u(K);5 4.2g(e)};H.c.9v=7(){2 l=4.1J();2 d=l.1K();9(!d){1c 1k("9w d 2C 4T")}2 e=W 3i(3i.77);e.78(d.b);5 4.2g(e)};H.c.6W=7(b){9(b.5n()){5 G}2 1E=W 5A();2 2a=4.5u[b];9(2a&&(1E.3l()-2a.3l())<5B){5 G}4.5u[b]=1E;2 e=W 2F(b);5 4.2g(e)};H.c.6X=7(b){2 1E=W 5A();2 2a=4.5v[b];9(2a&&(1E.3l()-2a.3l())<5B){5 G}4.5v[b]=1E;2 e=W 2f(b);5 4.2g(e)};H.c.5x=7(h,1f){2 1E=W 5A();2 2a=4.5w[h];9(2a&&(1E.3l()-2a.3l())<5B){5 G}4.5w[h]=1E;2 R;9(1f x 9x){R=1f}q{R=[1f]}2 e=2S.9y(h);2 5C=G;Q(2 i=0;i<R.E;++i){9(4.3K(e,R[i],f,G)){5C=T}}5 5C};H.c.9z=7(){2 e=W N(N.2u);5 4.2g(e)};H.c.9A=7(20){2 e=W N(20);5 4.2g(e)};H.c.5z=7(d){9(!d){2 l=4.1J();d=l.1K();9(!d){1c 1k("d 2C 4T")}}9(d.S(4.o.1K())){5 T}4.o.Y=f;4.o.3y(d);4.o.2V(f);5 T};a.H=H}(V);',62,595,'||var||this|return||function||if|ns|identifier|prototype|user|cmd|null|list|group|||getInstance|facebook|Facebook||server|text|else|db|||meta|content|profile|instanceof|name|data|state|machine|nc|protocol|length|users|false|Messenger|StateMachine|Table|key|console|map|SearchCommand|NotificationCenter|getIdentifier|for|members|equals|true|Server|DIMP|new|call|session|msg||log|network|error|port|contacts||string|sender|commander|host|UserTable|throw|push|fsm|member|names|CommandProcessor|keys|iMsg|Error|ServerState|index|stargate|type|status|save|item|messenger|ID|StarStatus|star|MetaTable|PrivateTable|ProfileTable|ContactTable|contact|GroupTable|Command|getUsername|now|User|options|AddressNameService|postNotification|getFacebook|getCurrentUser|KeyStore|info|typeof|cpu|addedList|removedList|HandshakeCommand|NetworkType|Register|Machine|transition|getStatus|metas|messages|s_messenger|keywords|process|Meta|assert|addState|InstantMessage|load|profiles|groups|receiver|last|getValue|message|nickname|number|ProfileCommand|sendCommand|object|digest|SymmetricKey|empty|defaultState|handshakingState|runningState|errorState|server_state|RequestWrapper|wrapper|indexOf|username|ONLINE_USERS|Class|setValue|register|DefaultContentProcessor|InviteCommand|SearchCommandProcessor|online|not|id|Object|MetaCommand|response|extensions|Base64|Password|handler|create|clazz|tables|MessageTable|conversation|s_facebook|received|GroupCommand|ResetCommand|HandshakeCommandProcessor|handshake|ReceiptCommandProcessor|cnt|saveMeta|PrivateKey|Profile|privateKey||value|SHA256|connectingState|connectedState|stoppedState|Connected|ti|StationDelegate|Station|delegate|to|privateKeys|allUsers|loadContacts|loadMembers|StorageCommand|owner|pwd|getTime|SEARCH|results|crypto|Main|saveProfile|algorithm|encode|defaultStateName|stop|pause|resume|waitingList|setCurrentUser|getCurrentState|send|env|encryptMessage|failed|getMeta|table|saving|saveContacts|saveMembers|admins|sendContent|TextContent|FileContent|ImageContent|AudioContent|VideoContent|PageContent|getGroup|res|envelope|getFilename|has|join|removed|success|restart|user_info|generateIdentifier|savePrivateKey|generate|seed|properties|format|KEY_SIZE|len|merged|State|tick|stop_tick|start|me|currentUser|sMsg|rMsg|connect|socket|onConnected|LocalStorage|loadMeta|loadPrivateKey|loadProfile|save_users|splice|u_list|c_list|TypeError|g_list|m_list|table_name|s_instance|s_key_store|s_ans|Group|immortals|substring|assistants|encryptKey|ContentType|ReceiptCommand|ContentProcessor|File|kNotificationMessageReceived|ExpelCommand|QuitCommand|QueryCommand|MessageBuilder|toLocaleString|command|added|getNickname|getNumberString|found|AsymmetricKey|MetaType|avatar|generateMeta|createProfile|Data|iv|toString|Transition|evaluate|trans|start_tick|currentState|Envelope|HandshakeState|MessengerDelegate|StateDelegate|StarDelegate|SocketClient|stationDelegate|encrypt|kNotificationStationConnecting|addUser|removeUser|Storage|address|store_name|Immortals|getType|isBroadcast|tai|ForwardContent|MuteCommand|BlockCommand|ReliableMessage|cipherKeyDelegate|metaQueryTime|profileQueryTime|groupQueryTime|queryGroupInfo|reused|login|Date|30000|checking|setKeywords|getUsers|getResults|Image|Voice|Movie|Current|version|doesn|support|getGroupCommandText|getCommand|getInviteCommandText|getExpelCommandText|getQuitCommandText|getResetCommandText|getQueryCommandText|session_key|handshakeAccepted|DIM|Got|continue|generatePrivateKey|getUser|founder|getPrivateKeyForSignature|sign|BLOCK_SIZE|String|getBytes|UTF|subarray|pos|AES|onEnter|connected|target|arguments|default_state|connecting_state|connected_state|handshaking_state|running_state|error_state|stopped_state|clearInterval|is_stop|didSendPackage|implement|didFailToSendPackage|getKey|hash|sendingTable|str|kNotificationHandshakeAccepted|already|kNotificationStationConnected|sendPackage|carry_on|connection|unshift|srv|kNotificationStationError|loadJSON|saveJSON|save_metas|load_metas|kNotificationMetaAccepted|JSON|save_keys|load_keys|save_profiles|load_profiles|kNotificationProfileUpdated|load_users|save_contacts|load_contacts|save_groups|load_groups|isUser|getProfile|queryMeta|queryProfile|is_empty|getOwner|check_group|keyCache|getCipherKey|suspendMessage|processInstantMessage|first|sendProfile|CONTACTS|setIdentifier|search|Text|Web|page|sn|setMessage|setEnvelope|UNKNOWN|getContentText|getText|getURL|getCommandText|unsupported|invited|quit|chat|updated|was|querying|responding|getContext|setContext|getMessage|OK|getSessionKey|HANDSHAKE|RECEIPT|No|One|one|createUser|web|demo|createGroup|Polylogue|RSA|anonymous|Default|setProperty|upload|from|onExit|default|connecting|handshaking|running|stopped|transitions|addTransition|Connecting|setInterval|500|Interface|newEnvelope|newMessage|signMessage|and|getState|START|setMeta|serializeMessage|accepted|again|with|9394|changeState|launch|terminate|onReceived|onReceivePackage|onStatusChanged|onSent|uploadData|downloadData|url|while|shift|lost|waiting|task|interrupted|break|enterState|setTimeout|1000|exitState|pauseState|resumeState|exists|private|ContactsUpdated|MembersUpdated|SessionStorage|Messages|saveMessages|loadMessages|Message|StationConnecting|StationConnected|StationError|HandshakeAccepted|MetaAccepted|ProfileUpdated|MessageReceived|saveKeys|loadKeys|cache|ans|getLocalUsers|getName|getNumber|0000000000|cachePrivateKey|cacheMeta|match|cacheProfile|allPropertyNames|addContact|removeContact|cacheContacts|addMember|removeMember|should|be|cacheMembers|entityDelegate|getMembers|existsMember|existsAssistant|isOwner|getAssistants|isGroup|saveMessage|delete|sendMessage|broadcastContent|setGroup|EVERYONE|ANYONE|broadcastProfile|getContacts|postProfile|postContacts|toJSON|setData|setKey|queryContacts|current|Array|query|queryOnlineUsers|searchUsers'.split('|'),0,{}))
